{% extends "base.html" %}

{% block title %}Configuração PABX{% endblock %}

{% block content %}
<style>
    .dashboard-card {
        padding: 25px;
    }

    /* Botões grandes de navegação */
    .action-buttons {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Layout responsivo */
        gap: 15px;
        margin: 25px 0;
    }
    .action-button {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-decoration: none;
        color: white;
        border-radius: 8px;
        text-align: center;
        transition: transform 0.2s, box-shadow 0.2s;
        min-height: 120px;
    }
    .action-button:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .action-button .icon {
        font-size: 36px;
        margin-bottom: 10px;
    }
    .action-button .text {
        font-weight: bold;
        font-size: 16px;
    }
    .btn-ramais { background-color: #007bff; }
    .btn-filas { background-color: #17a2b8; }
    .btn-rede { background-color: #6f42c1; }

    /* Seção de Status */
    .status-section {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }
    .status-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
    }
    .status-column h4 {
        color: #0056b3;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 8px;
    }
    .status-list {
        list-style: none;
        padding: 0;
        margin: 0;
        font-size: 14px;
    }
    .status-list li {
        padding: 8px 5px;
        border-bottom: 1px solid #f5f5f5;
    }
    .status-list li:last-child {
        border-bottom: none;
    }
    .no-data {
        color: #888;
        font-style: italic;
    }
    .action-button.btn-rotas {
        background-color: #ffc107; /* Um amarelo/dourado para destacar */
        color: #212529; /* Texto escuro para contraste */
    }
    .action-button.btn-rotas:hover {
        background-color: #e0a800;
    }
</style>

<div class="card dashboard-card">
    <h2>Painel de Controle</h2>
    <p>Selecione uma das opções abaixo para gerenciar as configurações do seu PABX.</p>

    <div class="action-buttons">
        <a href="{{ url_for('pabx.cadastro_ramal') }}" class="action-button btn-ramais">
            <span class="icon">&#9742;</span> <!-- Ícone de telefone -->
            <span class="text">Gerenciar Ramais</span>
        </a>
        <a href="{{ url_for('pabx.cadastro_fila') }}" class="action-button btn-filas">
            <span class="icon">&#9776;</span> <!-- Ícone de lista/menu -->
            <span class="text">Gerenciar Filas</span>
        </a>
        <a href="{{ url_for('rotas.gerenciar_rotas') }}" class="action-button btn-rotas">
            <span class="icon">&#128707;</span> <!-- Ícone de mapa de rotas -->
            <span class="text">Gerenciar Rotas</span>
        </a>
        <a href="{{ url_for('rede.config_rede') }}" class="action-button btn-rede">
            <span class="icon">&#127760;</span> <!-- Ícone de globo/rede -->
            <span class="text">Configurar Rede</span>
        </a>
    </div>

    <div class="status-section">
        <h3>Status do Sistema</h3>
        <div class="status-grid">
            <div class="status-column">
                <h4>Ramais ({{ ramais|length }})</h4>
                {% if ramais %}
                <ul class="status-list">
                    {% for ramal in ramais %}
                        <li><strong>{{ ramal.ramal }}</strong> - {{ ramal.nome }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="no-data">Nenhum ramal cadastrado.</p>
                {% endif %}
            </div>

            <div class="status-column">
                <h4>Filas ({{ filas|length }})</h4>
                {% if filas %}
                <ul class="status-list">
                    {% for fila in filas %}
                        <li><strong>{{ fila.fila }}</strong> - {{ fila.nome }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="no-data">Nenhuma fila cadastrada.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

